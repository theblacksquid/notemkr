(function(){var t,e,n,o,a,s,i,r,d,c,l,u,p,h,f,v,_,b,w,y,g,m,k,S,T,x;c=function(t){return t<10?"0"+t:t},k=function(t){var e,n,o,a;return n=new Date,e="AM",n.setHours(n.getUTCHours()+t),o=n.getHours(),0===o&&(o=12),o>12&&(o-=12,e="PM"),a={day:n.getDay(),hours:o,minutes:n.getMinutes(),seconds:n.getSeconds(),diem:e,date:n.getDate(),month:n.getMonth(),year:n.getFullYear()}},h=function(t){var e,n,o,a,s;for(a={},n=0,o=t.length;n<o;n++)e=t[n],s="#"+e,($(s).is("input:text")||$(s).is("textarea"))&&(a[e]=$(s).val()),$(s).is("input:checkbox")&&(a[e]=$(s).prop("checked")),$(s).is("input[type='radio']:checked")&&(a[e]=$(s).val()),$(s).is("select")&&(a[e]=$(s+" option:selected").text());return a},u=function(t){var e,n,o,a,s;for(a=[],n=0,o=t.length;n<o;n++)e=t[n],s="#"+e,($(s).is("input:text")||$(s).is("textarea"))&&$(s).val(""),$(s).is("input:checkbox")&&$(s).prop("checked",!1),$(s).is("input[type='radio']:checked")&&$(s).prop("checked",!1),$(s).is("select")?a.push($(s).prop("selectedIndex",0)):a.push(void 0);return a},w=function(t,e){var n,o,a,s,i;for(s=[],o=0,a=t.length;o<a;o++)n=t[o],i="#"+n,($(i).is("input:text")||$(i).is("textarea"))&&$(i).val(e[n]),$(i).is("input:checkbox")&&$(i).prop("checked",e[n]),$(i).is("input[type='radio']")&&$(i).prop("checked",e[n]),$(i).is("select")?s.push($(i).val(e[n])):s.push(void 0);return s},v=function(t){return null===t?"[object Null]":Object.prototype.toString.call(t)},_=function(t){return""===t?"N/A":"yes"},l=function(t,e,n){return t===!0?e||n:"n/a"},b=function(t){return t===!0?"Yes":"No"},p=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d=function(t,e){var n;if(n=0,t.length!==e.length)return!1;for(;t.length>n;)if(t[n]!==e[n])return!1;return!0},T=[{state:"Alabama",offset:-5,tz:"EST"},{state:"Alaska",offset:-9,tz:"AKST"},{state:"American_Samoa",offset:-11,tz:"SST"},{state:"Arizona",offset:-7,tz:"MST"},{state:"Arkansas",offset:-6,tz:"CST"},{state:"California",offset:-8,tz:"PST"},{state:"Colorado",offset:-7,tz:"MST"},{state:"Connecticut",offset:-5,tz:"EST"},{state:"Delaware",offset:-5,tz:"EST"},{state:"Florida",offset:-5,tz:"EST"},{state:"Georgia",offset:-5,tz:"EST"},{state:"Guam",offset:10,tz:"CHST"},{state:"Hawaii",offset:-10,tz:"HIST"},{state:"Idaho",offset:-7,tz:"MST"},{state:"Illinois",offset:-6,tz:"CST"},{state:"Indiana",offset:-5,tz:"EST"},{state:"Iowa",offset:-6,tz:"CST"},{state:"Kansas",offset:-6,tz:"CST"},{state:"Kentucky",offset:-5,tz:"EST"},{state:"Louisiana",offset:-6,tz:"CST"},{state:"Maine",offset:-5,tz:"EST"},{state:"Maryland",offset:-5,tz:"EST"},{state:"Massachusetts",offset:-5,tz:"EST"},{state:"Michigan",offset:-5,tz:"EST"},{state:"Minnesota",offset:-5,tz:"CST"},{state:"Mississippi",offset:-6,tz:"CST"},{state:"Missouri",offset:-6,tz:"CST"},{state:"Montana",offset:-7,tz:"MST"},{state:"Nebraska",offset:-6,tz:"CST"},{state:"Nevada",offset:-7,tz:"MST"},{state:"New_Hampshire",offset:-5,tz:"EST"},{state:"New_Jersey",offset:-5,tz:"EST"},{state:"New_Mexico",offset:-7,tz:"MST"},{state:"New_York",offset:-5,tz:"EST"},{state:"North_Carolina",offset:-5,tz:"EST"},{state:"North_Dakota",offset:-6,tz:"CST"},{state:"Ohio",offset:-5,tz:"EST"},{state:"Oklahoma",offset:-6,tz:"EST"},{state:"Oregon",offset:-7,tz:"MST"},{state:"Pennsylvania",offset:-5,tz:"EST"},{state:"Puerto_Rico",offset:-4,tz:"AST"},{state:"Rhode_Island",offset:-5,tz:"EST"},{state:"South_Carolina",offset:-5,tz:"EST"},{state:"South_Dakota",offset:-6,tz:"CST"},{state:"Tennessee",offset:-5,tz:"EST"},{state:"Texas",offset:-6,tz:"CST"},{state:"Utah",offset:-7,tz:"MST"},{state:"Vermont",offset:-5,tz:"EST"},{state:"Virginia",offset:-5,tz:"EST"},{state:"US_Virgin_Islands",offset:-4,tz:"AST"},{state:"Washington",offset:-8,tz:"PST"},{state:"Washington_DC",offset:-5,tz:"EST"},{state:"West_Virginia",offset:-5,tz:"EST"},{state:"Wisconsin",offset:-6,tz:"CST"},{state:"Wyoming",offset:-7,tz:"MST"}],y="w3-rest",S="w3-quarter",f="style='width:32%;'",g="style='display:inline-block;background-color:transparent'",x={},x.menu=function(){return"<div class='w3-container "+y+" w3-btn-bar w3-show-inline-block w3-text-white' "+g+">\n    <button class='w3-btn w3-ripple' id='new_note'>New</button>\n    <button class='w3-btn w3-ripple' id='save_note'>Save</button>\n    <button class='w3-btn w3-ripple' id='view_all_notes'>View Notes</button>\n    <button class='w3-btn w3-ripple' id='more_options'>More</button>\n</div>"},x.menu.ids=["new_note","save_note","view_all_notes","more_options"],x.main=function(){return"<div id='header' class='w3-container w3-row' style='background-color:steelblue;'>\n  <!---  <div class='w3-container'><img src='img/dell_icon.png.ico'></div> --->\n   <!--- <div class='w3-container' style='display:inline-block'>\n        <h2>NOTEMKR</h2>\n    </div> --->\n</div>\n<div class='w3-container w3-row' style='background-color: steelblue'>\n    <div id='sidebar' class='w3-container "+S+"' style='font-size: xx-small; font-weight: bold'>\n        <div class='w3-container'></div>\n        <div id='clocks-main' class='w3-container' style='height: 50vh; overflow: auto'></div>\n        <div class='w3-border w3-center'>\n        ----------\n        </div>\n        <div id='clocks-many' class='w3-container' style='height: 40vh; overflow: auto'></div>\n    </div>\n    \n    <div id='main' class='w3-container w3-text-white' style='font-size:small;height:90vh;overflow:auto'></div>\n</div>"},x.clock=function(t){return"<div class='w3-container w3-border w3-black'>\n    <div id='"+t+"-clock'></div>\n    <div>"+t+"</div> \n</div>"},x.callInfo=function(){return"<div class='w3-container w3-border "+y+"'>\n    <input type='text' id='bttr' placeholder='BTTR' "+f+">\n    <input type='text' id='ptr_id' placeholder='PTR/OKB ID' "+f+">\n    <input type='text' id='svc_tag' placeholder='Service Tag' "+f+"> <br />\n    <input type='checkbox' id='dps_case'> Dispatch Case? \n</div>"},x.callInfo.ids=["bttr","ptr_id","svc_tag","dps_case"],x.cxInfo=function(){return"<div class='w3-container w3-border "+y+"'>\n    <input type='text' id='caller_name' placeholder='Caller&#39;s Name' "+f+">\n    <input type='text' id='ppn' placeholder='Primary Phone #' "+f+"> \n    <input type='text' id='apn' placeholder='Alternate Phone #' "+f+"> \n    <br />\n    <input type='text' id='email' placeholder='Email Address' "+f+">\n    <br />\n    <input type='checkbox' id='va_done'> Verify Authorization\n    <input type='radio' id='va_rad1' name='va_result' value='Passed' disabled> Passed\n    <input type='radio' id='va_rad2' name='va_result' value='Failed' disabled> Failed\n    <br />\n    <input type='checkbox' id='toade'> Told About Date of Warranty Expiration?\n    <input type='text' id='toade_date' placeholder='Warranty End Date' disabled>\n    <br />\n    <input type='checkbox' id='warranty'> Educated About Warranty? \n    <input type='radio' id='warranty_rad1' name='warrany_type' value='Onsite' disabled> Onsite\n    <input type='radio' id='warranty_rad2' name='warrany_type' value='Mail-In' disabled> Mail-In\n</div>"},x.cxInfo.ids=["caller_name","ppn","apn","email","va_done","va_result","va_rad1","va_rad2","toade","toade_date","warranty","warranty_type","warranty_rad1","warranty_rad2"],x.notes=function(){return"<div class='w3-container w3-border "+y+"'>\nAgent Description: <br /> \n    <input type='text' id='agent_desc' placeholder='Issue' style='width:100%'>\n</div>\n<div class='w3-container w3-border w3-rest'>\nSymptoms: <br /> \n    <textarea id='symptoms' placeholder='Describe what&#39;s happening.' style='width:100%; resize: none' />\n</div>\n<div class='w3-container w3-border w3-rest'>\nTroubleshooting Steps: <br /> \n    <textarea id='ts_steps' placeholder='Describe what happened on the call.' style='width:100%;height:200px;resize:none' />\n</div>"},x.notes.ids=["agent_desc","symptoms","ts_steps"],x.diagResults=function(){var t;return t="28vw","<div class='w3-container w3-border "+y+"'>\n    <div class='w3-container'>\n        <input type='text' id='diag_tool' placeholder='Diagnostics Used' style='width: "+t+"'>\n        Result:    \n        <select id='diag_result'>\n            <option>N/A</option>\n            <option>Pass</option>\n            <option>Fail</option>\n        </select>\n    </div>\n    <br />\n    <div class='w3-container'>\n        <input type='text' id='err_code' placeholder='Error Code' style='width: "+t+"'>\n        <input type='text' id='valid_code' placeholder='Validation Code' style='width: "+t+"'>\n    </div>\n    <br />\n    <div class='w3-container'>\n        <input type='text' id='dc_id' placeholder='Dell Connect ID' style='width: "+t+"'>\n        <input type='text' id='tag_team_id' placeholder='Tag Team Chat ID' style='width: "+t+"'>\n    </div>\n</div>"},x.diagResults.ids=["diag_tool","diag_result","err_code","valid_code","dc_id","tag_team_id"],x.conclusions=function(){return"<div class='w3-container w3-border "+y+"'>\nConclusions: <br />\n    <textarea id='conclusions' placeholder='How was the issue resolved?/5 GL' style='width:100%;height:100px;resize:none' />\n    <br />\n    <input type='checkbox' id='esupport'> Educate about eSupport and self-help options?\n    <br />\n    <input type='checkbox' id='heatcheck'> Did heatcheck with cx?\n    <br />\n        <input type='radio' name='cx_sat' id='hc_rad1' value='Cx is Satisfied' disabled> Cx is Satisfied\n        <input type='radio' name='cx_sat' id='hc_rad2' value='Cx is Dissatisfied' disabled> Cx is Dissatisfied\n    <br />\n    <textarea id='dsat_reason' placeholder='If cx is DSAT, explain why:' style='width:100%;height:75px;resize:none'/>\n    <br />\n    <input type='checkbox' id='resolved' /> Is issue resolved?\n    <br />\n        <input type='radio' name='issue_resolved' id='reso_rad1' value='Resolved' disabled/> Resolved\n        <input type='radio' name='issue_resolved' id='reso_rad2' value='Unresolved/Dispatch' disabled/> Unresolved/Dispatch\n</div>"},x.conclusions.ids=["conclusions","esupport","heatcheck","hc_rad1","hc_rad2","dsat_reason","resolved","reso_rad1","reso_rad2"],x.dispatchNotes=function(){return"<div class='w3-container w3-border "+y+"'>\n    <input type='checkbox' id='adv_data_loss'> Reminded cx of possible Data loss when unit is sent in for repairs or when OSRI/Reset is done?\n    <br />\n    <select id='adv_data_loss_val' disabled>\n        <option>--SELECT--</option>\n        <option>Cx agrees to reimage drive</option>\n        <option>Cx doesn&#39;t agree to reimage drive</option>\n    </select>\n    <br />\n    <input type='checkbox' id='auto_selector_used'> Auto Parts Selector Used?\n    <input type='checkbox' id='vdi'> Verify Dispatch Information? <br />\n    <input type='checkbox' id='tat'> Turn Around Time\n    <select id='tat_val' disabled>\n        <option>--SELECT--</option>\n        <option>1 - 2 bd</option>\n        <option>5 - 7 bd</option>\n        <option>7 - 10 bd</option>\n        <option>10 - 15 bd</option>\n    </select> <br />\n    <input type='checkbox' id='tarp'> Told About Return policy?\n    <input type='checkbox' id='cidar'> CIDAR Explained?\n</div>"},x.dispatchNotes.ids=["adv_data_loss","adv_data_loss_val","auto_selector_used","vdi","tat","tat_val","tarp","cidar"],x.buttons=function(){return"<div class='w3-container w3-border "+y+"'>\n    <div class='w3-container'>\n        <button class='w3-btn-block w3-border w3-ripple' id='agent_desc_btn'>Agent Description</button>\n    </div>\n    <div class='w3-container'>\n        <button class='w3-btn-block w3-border w3-ripple' id='symptoms_btn'>Symptoms</button>\n    </div>\n    <div class='w3-container'>\n        <button class='w3-btn-block w3-border w3-ripple' id='ts_steps_btn'>Create Notes</button>\n    </div>\n    <div class='w3-container'>\n        <button class='w3-btn-block w3-border w3-ripple' id='conclusions_btn'>Conclusions/5 GL</button>\n    </div>\n</div>"},x.buttons.ids=["agent_desc_btn","symptoms_btn","ts_steps_btn","conclusions_btn"],x.note=function(t){var e;return e=k(8),"BTTR: "+t.bttr+" \r\nPTR/KCS/OKB ID: "+t.ptr_id+" \r\nService Tag: "+t.svc_tag+" \r\n----- \r\nPPN: "+_(t.ppn)+" \r\nAPN: "+_(t.apn)+" \r\nEmail: "+_(t.email)+" \r\nVA Passed: "+l(t.va_done,t.va_rad1,t.va_rad2)+" \r\nTOADE: "+function(){return t.toade===!0?t.toade_date:"n/a"}()+" \r\nEntitlement: "+l(t.warranty,t.warranty_rad1,t.warranty_rad2)+" \r\n----- \r\nAgent Description: "+t.agent_desc+" \r\n----- \r\nSymptoms: "+t.symptoms+" \r\n----- \r\nT/S Steps: \r\n\r\n"+t.ts_steps+"\r\n-----\r\nConclusions: "+t.conclusions+" \r\nHeatcheck: "+l(t.heatcheck,t.hc_rad1,t.hc_rad2)+" \r\nDSAT Reason: "+_(t.dsat_reason)+" \r\nIssue Resolved?: "+l(t.resolved,t.reso_rad1,t.reso_rad2)+" \r\n----- \r\nDiagnostics Used: "+function(){return"no"===_(t.diag_tool)?"N/A":t.diag_tool}()+"\r\nResult: "+t.diag_result+" \r\nError Code: "+t.err_code+" \r\nValidation Code: "+t.valid_code+" \r\nDell Connect: "+t.dc_id+" \r\nTag Team Chat: "+t.tag_team_id+" \r\n-----\r\nEducated Possible Data Loss: "+function(){return t.adv_data_loss===!0?t.adv_data_loss_val:"N/A"}()+" \r\nAuto Parts Selector Used?: "+b(t.auto_selector_used)+" \r\nVerified Dispatch Info?: "+b(t.vdi)+" \r\nTurn Around Time: "+function(){return t.tat===!0?t.tat_val:"N/A"}()+" \r\nTold About Return Policy: "+b(t.tarp)+"\r\nCIDAR Explained?: "+b(t.cidar)+"\r\n\r\nNote Generated on "+p[e.day]+", "+m[e.month]+" "+e.date+" "+e.year+", "+c(e.hours)+":"+c(e.minutes)+":"+c(e.seconds)+" "+e.diem+", Manila"},x.savedNote=function(t){return"<div class='w3-container w3-border w3-rest "+y+"' id= "+t.svc_tag+">\n"+t.svc_tag+", "+t.caller_name+" \n<button id='"+t.svc_tag+"-del' class='w3-btn w3-border w3-hover-light-grey w3-right'>Delete</button>\n<button id='"+t.svc_tag+"-load' class='w3-btn w3-border w3-hover-light-grey w3-right'>Load</button>\n</div>"},i=x.callInfo.ids.concat(x.cxInfo.ids,x.notes.ids,x.diagResults.ids,x.conclusions.ids,x.dispatchNotes.ids),x.JSONscreen=function(){return"<div class='w3-container w3-border w3-rest'>\n    <p>WARNING: Do not change the contents of the textarea below \n    if you don't know what you are doing</p>\n    <p>Below are the saved notes in JSON format that coul be used\n    to export notes between Notemkr instances.</p>\n    <p>You can add another JSON object to the end of the area\n    to manually add another note to the note storage. Make sure \n    that the old values and the new ones are separated by a \n    comma \",\".</p>\n        <textarea id='json_here' style='width:100%;height:60vh;resize:none' />\n    <br />\n    <button id='import' class='w3-btn w3-border w3-hover-light-grey'>Import</button>\n</div>"},e=function(){function t(t,e,n){this.el=t,this.timezone=e,this.title=n}return t.prototype.render=function(){return $(this.el).append(x.clock(this.title)),this.tick()},t.prototype.tick=function(){var t,e;return e=k(this.timezone),t=this,$("#"+this.title+"-clock").html("<p>"+p[e.day]+", "+c(e.hours)+":"+c(e.minutes)+": "+c(e.seconds)+" "+e.diem+", <br /> "+m[e.month]+" "+c(e.date)+", "+e.year+"</p>"),window.setTimeout(function(){return t.tick()},1e3)},t}(),s=function(){function t(t){this.el=t}return t.prototype.render=function(){var t,n,o,a,s,i,r,d;for(n=[],o=0,s=T.length;o<s;o++)d=T[o],n.push(new e(this.el,d.offset,d.state));for(r=[],a=0,i=n.length;a<i;a++)t=n[a],r.push(t.render());return r},t}(),o=function(){function t(t){this.el=t}return t.prototype.render=function(){return $("#header").html(x.menu()),$(this.el).append(x.callInfo()),$(this.el).append(x.cxInfo()),$(this.el).append(x.notes()),$(this.el).append(x.conclusions()),$(this.el).append(x.diagResults()),$(this.el).append(x.dispatchNotes()),$(this.el).append(x.buttons()),this.checkEnable("#va_done","#va_rad1"),this.checkEnable("#va_done","#va_rad2"),this.checkEnable("#warranty","#warranty_rad1"),this.checkEnable("#warranty","#warranty_rad2"),this.checkEnable("#toade","#toade_date"),this.checkEnable("#heatcheck","#hc_rad1"),this.checkEnable("#heatcheck","#hc_rad2"),this.checkEnable("#heatcheck","#hc_rad2"),this.checkEnable("#resolved","#reso_rad1"),this.checkEnable("#resolved","#reso_rad2"),this.checkEnable("#tat","#tat_val"),this.checkEnable("#adv_data_loss","#adv_data_loss_val")},t.prototype.checkEnable=function(t,e){return $(t).change(function(){return $(t).prop("checked")===!0?$(e).prop("disabled",!1):$(e).prop("disabled",!0)})},t}(),a=function(){function e(t){this.el=t}return e.prototype.template=function(){return"<div id='saved_notes' style='height:90vh;overflow:auto'></div>"},e.prototype.render=function(){var n;return $(this.el).html(this.template()),n=function(n,o){return $("#saved_notes").append(x.savedNote(o)),$("#"+o.svc_tag+"-load").click(function(){var e;return e=new t("#app"),e.render(),w(i,o),console.log(o)}),$("[id='"+o.svc_tag+"-del']").click(function(){return localforage.removeItem(o.svc_tag,function(){var n,o;return n=new t("#app"),n.render(),o=new e("#main"),o.render()})})},localforage.keys(function(t,e){var o,a,s,i;for(i=[],o=0,s=e.length;o<s;o++)a=e[o],i.push(localforage.getItem(a,n));return i})},e}(),n=function(){function t(t){this.el=t}return t.prototype.render=function(){return $(this.el).html(x.JSONscreen()),localforage.keys(function(t,e){var n,o,a,s,i;for(s=[],i=[],n=0,a=e.length;n<a;n++)o=e[n],i.push(localforage.getItem(o,function(t,e){return s.push(JSON.stringify(e)),$("#json_here").val(s)}));return i}),this.importPress()},t.prototype.importPress=function(){return $("#import").click(function(){var t,e,n,o;for(e=JSON.parse("[ "+$("#json_here").val()+" ]"),n=0,o=e.length;n<o;n++)t=e[n],localforage.setItem(t.svc_tag,t);return alert("Records saved successfully")})},t}(),t=function(){function t(t){this.el=t}return t.prototype.render=function(){var t,n,a,r,d,c;for(r=new o("#main"),c=new s("#clocks-many"),d=[new e("#clocks-main",8,"Manila"),new e("#clocks-main",(-5),"Eastern"),new e("#clocks-main",(-6),"Central"),new e("#clocks-main",(-7),"Mountain"),new e("#clocks-main",(-8),"Pacific")],$(this.el).html(x.main()),n=0,a=d.length;n<a;n++)t=d[n],t.render();return c.render(),r.render(),this.getField("#conclusions","#conclusions_btn"),this.getValues(i,"#ts_steps_btn"),this.getField("#agent_desc","#agent_desc_btn"),this.getField("#symptoms","#symptoms_btn"),this.saveNote(i),this.newNote(i),this.viewNotes(),this.importBtn()},t.prototype.getValues=function(t,e){return $(e).click(function(){var e;return e=h(function(){return"[object Function]"===v(t)?t.ids:"[object Array]"===v(t)?t:void 0}()),clipboard.copy(x.note(e)),console.log(e),console.log(x.note(e))})},t.prototype.getField=function(t,e){return $(e).click(function(){return clipboard.copy($(t).val())})},t.prototype.saveNote=function(t){return $("#save_note").click(function(){var e,n;return e=k(0),n=h(t),""!==n.svc_tag?localforage.setItem(n.svc_tag,n,function(){return alert("Note Saved"),console.log(n)}):alert("No Service Tag Detected")})},t.prototype.newNote=function(e){return $("#new_note").click(function(){var e;return e=new t("#app"),e.render()})},t.prototype.viewNotes=function(){return $("#view_all_notes").click(function(){var t;return t=new a("#main"),t.render()})},t.prototype.importBtn=function(){return $("#more_options").click(function(){var t;return t=new n("#main"),t.render()})},t.prototype.kbShortcut=function(){var t;return t={},$(document).keydown(function(e){return t[e.keyCode]=!0}).keyup(function(e){return t[17]&&t[83]&&$("#save_note").click(),delete t[e.keyCode],delete t[17]})},t}(),r=new t("#app"),r.render()}).call(this);
