// Generated by CoffeeScript 1.10.0
(function() {
  var App, Clock, Main, Sidebar, app, catZero, render_time, states, template;

  catZero = function(val) {
    if (val < 10) {
      return '0' + val;
    } else {
      return val;
    }
  };

  render_time = function(time_offset) {
    var am_pm, current_time, h, result;
    current_time = new Date();
    am_pm = "AM";
    current_time.setHours(current_time.getUTCHours() + time_offset);
    h = current_time.getHours();
    if (h === 0) {
      h = 12;
    }
    if (h > 12) {
      h = h - 12;
      am_pm = "PM";
    }
    return result = {
      day: current_time.getDay(),
      hours: h,
      minutes: current_time.getMinutes(),
      seconds: current_time.getSeconds(),
      diem: am_pm,
      date: current_time.getDate(),
      month: current_time.getMonth(),
      year: current_time.getFullYear()
    };
  };

  states = [
    {
      state: "Alabama",
      offset: -5,
      tz: "EST"
    }, {
      state: "Alaska",
      offset: -9,
      tz: "AKST"
    }, {
      state: "American_Samoa",
      offset: -11,
      tz: "SST"
    }, {
      state: "Arizona",
      offset: -7,
      tz: "MST"
    }, {
      state: "Arkansas",
      offset: -6,
      tz: "CST"
    }, {
      state: "California",
      offset: -8,
      tz: "PST"
    }, {
      state: "Colorado",
      offset: -7,
      tz: "MST"
    }, {
      state: "Connecticut",
      offset: -5,
      tz: "EST"
    }, {
      state: "Delaware",
      offset: -5,
      tz: "EST"
    }, {
      state: "Florida",
      offset: -5,
      tz: "EST"
    }, {
      state: "Georgia",
      offset: -5,
      tz: "EST"
    }, {
      state: "Guam",
      offset: 10,
      tz: "CHST"
    }, {
      state: "Hawaii",
      offset: -10,
      tz: "HIST"
    }, {
      state: "Idaho",
      offset: -7,
      tz: "MST"
    }, {
      state: "Illinois",
      offset: -6,
      tz: "CST"
    }, {
      state: "Indiana",
      offset: -5,
      tz: "EST"
    }, {
      state: "Iowa",
      offset: -6,
      tz: "CST"
    }, {
      state: "Kansas",
      offset: -6,
      tz: "CST"
    }, {
      state: "Kentucky",
      offset: -5,
      tz: "EST"
    }, {
      state: "Louisiana",
      offset: -6,
      tz: "CST"
    }, {
      state: "Maine",
      offset: -5,
      tz: "EST"
    }, {
      state: "Maryland",
      offset: -5,
      tz: "EST"
    }, {
      state: "Massachusetts",
      offset: -5,
      tz: "EST"
    }, {
      state: "Michigan",
      offset: -5,
      tz: "EST"
    }, {
      state: "Minnesota",
      offset: -5,
      tz: "CST"
    }, {
      state: "Mississippi",
      offset: -6,
      tz: "CST"
    }, {
      state: "Missouri",
      offset: -6,
      tz: "CST"
    }, {
      state: "Montana",
      offset: -7,
      tz: "MST"
    }, {
      state: "Nebraska",
      offset: -6,
      tz: "CST"
    }, {
      state: "Nevada",
      offset: -7,
      tz: "MST"
    }, {
      state: "New_Hampshire",
      offset: -5,
      tz: "EST"
    }, {
      state: "New_Jersey",
      offset: -5,
      tz: "EST"
    }, {
      state: "New_Mexico",
      offset: -7,
      tz: "MST"
    }, {
      state: "New_York",
      offset: -5,
      tz: "EST"
    }, {
      state: "North_Carolina",
      offset: -5,
      tz: "EST"
    }, {
      state: "North_Dakota",
      offset: -6,
      tz: "CST"
    }, {
      state: "Ohio",
      offset: -5,
      tz: "EST"
    }, {
      state: "Oklahoma",
      offset: -6,
      tz: "EST"
    }, {
      state: "Oregon",
      offset: -7,
      tz: "MST"
    }, {
      state: "Pennsylvania",
      offset: -5,
      tz: "EST"
    }, {
      state: "Puerto_Rico",
      offset: -4,
      tz: "AST"
    }, {
      state: "Rhode_Island",
      offset: -5,
      tz: "EST"
    }, {
      state: "South_Carolina",
      offset: -5,
      tz: "EST"
    }, {
      state: "South_Dakota",
      offset: -6,
      tz: "CST"
    }, {
      state: "Tennessee",
      offset: -5,
      tz: "EST"
    }, {
      state: "Texas",
      offset: -6,
      tz: "CST"
    }, {
      state: "Utah",
      offset: -7,
      tz: "MST"
    }, {
      state: "Vermont",
      offset: -5,
      tz: "EST"
    }, {
      state: "Virginia",
      offset: -5,
      tz: "EST"
    }, {
      state: "US_Virgin_Islands",
      offset: -4,
      tz: "AST"
    }, {
      state: "Washington",
      offset: -8,
      tz: "PST"
    }, {
      state: "Washington_DC",
      offset: -5,
      tz: "EST"
    }, {
      state: "West_Virginia",
      offset: -5,
      tz: "EST"
    }, {
      state: "Wisconsin",
      offset: -6,
      tz: "CST"
    }, {
      state: "Wyoming",
      offset: -7,
      tz: "MST"
    }
  ];

  template = {};

  template.main = function() {
    return "<div id='container' class='w3-container' style='background-color: steelblue'>\n    <div id='header' class='w3-container w3-row'>\n      <!---  <div class='w3-container'><img src='img/dell_icon.png.ico'></div> --->\n        <div class='w3-container'><h2>NOTEMKR</h2></div>\n    </div>\n    <div class='w3-container w3-row'>\n        <div id='sidebar' class='w3-container w3-quarter' style='font-size: x-small; font-weight: bold'>\n            <div class='w3-container'></div>\n            <div id='clocks-main' class='w3-container' style='height: 50vh; overflow: auto'></div>\n            <div class='w3-border w3-center'>\n            ----------\n            </div>\n            <div id='clocks-many' class='w3-container' style='height: 40vh; overflow: auto'></div>\n        </div>\n        \n        <div id='main' class='w3-container' style='font-size: small; height: 90vh; overflow: auto'></div>\n    </div>\n</div>";
  };

  template.clock = function(title) {
    return "<div class='w3-container w3-border w3-black'>\n    <div id='" + title + "-clock'></div>\n    <div>" + title + "</div> \n</div>";
  };

  template.callInfo = function() {
    return "<div class='w3-container w3-border w3-rest'>\n    <input type='text' id='bttr' placeholder='BTTR'>\n    <input type='text' id='ptr_id' placeholder='PTR/OKB ID'>\n    <input type='text' id='svc_tag' placeholder='Service Tag'> <br />\n    <input type='checkbox' id='dps_case'> Dispatch Case? \n</div>";
  };

  template.cxInfo = function() {
    return "<div class='w3-container w3-border w3-rest'>\n    <input type='text' id='caller_name' placeholder='Caller&#39;s Name'>\n    <input type='text' id='ppn' placeholder='Primary Phone #'> \n    <input type='text' id='apn' placeholder='Alternate Phone #'> \n    <br />\n    <input type='text' id='email' placeholder='Email Address'>\n    <br />\n    <input type='checkbox' id='va_done'> Service Authorization\n    <input type='radio' id='va_rad1' name='va_result' value='Passed' disabled> Passed\n    <input type='radio' id='va_rad2' name='va_result' value='Failed' disabled> Failed\n    <br />\n    <input type='checkbox' id='toade'> Told About Date of Warranty Expiration?\n    <input type='text' id='toade_date' placeholder='Warranty End Date' disabled>\n    <br />\n    <input type='checkbox' id='warranty'> Educated About Warranty? \n    <input type='radio' id='warranty_rad1' name='warrany_type' value='Onsite' disabled> Onsite\n    <input type='radio' id='warranty_rad2' name='warrany_type' value='Mail-In' disabled> Mail-In\n</div>";
  };

  template.notes = function() {
    return "<div class='w3-container w3-border w3-rest'>\nAgent Description: <br /> \n    <input type='text' id='agent_desc' placeholder='Issue' style='width:100%'>\n</div>\n<div class='w3-container w3-border w3-rest'>\nSymptoms: <br /> \n    <textarea id='symptoms' placeholder='Describe what&#39;s happening.' style='width:100%' />\n</div>\n<div class='w3-container w3-border w3-rest'>\nTroubleshooting Steps: <br /> \n    <textarea id='ts_steps' placeholder='Describe what happened on the call.' style='width:100%;height:200px' />\n</div>";
  };

  template.diagResults = function() {
    var input_w;
    input_w = '28vw';
    return "<div class='w3-container w3-border w3-rest'>\n    <div class='w3-container'>\n        <input type='text' id='diag_tool' placeholder='Diagnostics Used' style='width: " + input_w + "'>\n        <select id='diag_result'>\n            <option value='neither'>N/A</option>\n            <option value='pass'>Pass</option>\n            <option value='fail'>Fail</option>\n        </select>\n    </div>\n    <br />\n    <div class='w3-container'>\n        <input type='text' id='err_code' placeholder='Error Code' style='width: " + input_w + "'>\n        <input type='text' id='valid_code' placeholder='Validation Code' style='width: " + input_w + "'>\n    </div>\n    <br />\n    <div class='w3-container'>\n        <input type='text' id='dc_id' placeholder='Dell Connect ID' style='width: " + input_w + "'>\n        <input type='text' id='tag_team_id' placeholder='Tag Team Chat ID' style='width: " + input_w + "'>\n    </div>\n</div>";
  };

  Clock = (function() {
    function Clock(el, timezone, title1) {
      this.el = el;
      this.timezone = timezone;
      this.title = title1;
    }

    Clock.prototype.render = function() {
      $(this.el).append(template.clock(this.title));
      return this.tick();
    };

    Clock.prototype.tick = function() {
      var days, months, self, x;
      x = render_time(this.timezone);
      self = this;
      days = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
      months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
      $("#" + this.title + "-clock").html("<p>" + days[x.day] + ", " + (catZero(x.hours)) + ":" + (catZero(x.minutes)) + ": " + (catZero(x.seconds)) + " " + x.diem + ", <br /> " + months[x.month] + " " + (catZero(x.date)) + ", " + x.year + "</p>");
      return window.setTimeout((function() {
        return self.tick();
      }), 1000);
    };

    return Clock;

  })();

  Sidebar = (function() {
    function Sidebar(el) {
      this.el = el;
    }

    Sidebar.prototype.render = function() {
      var clock, clocks, i, j, len, len1, results, state;
      clocks = [];
      for (i = 0, len = states.length; i < len; i++) {
        state = states[i];
        clocks.push(new Clock(this.el, state.offset, state.state));
      }
      results = [];
      for (j = 0, len1 = clocks.length; j < len1; j++) {
        clock = clocks[j];
        results.push(clock.render());
      }
      return results;
    };

    return Sidebar;

  })();

  Main = (function() {
    function Main(el) {
      this.el = el;
    }

    Main.prototype.render = function() {
      $(this.el).append(template.callInfo());
      $(this.el).append(template.cxInfo());
      $(this.el).append(template.notes());
      $(this.el).append(template.diagResults());
      this.checkEnable("#va_done", "#va_rad1");
      this.checkEnable("#va_done", "#va_rad2");
      this.checkEnable("#warranty", "#warranty_rad1");
      this.checkEnable("#warranty", "#warranty_rad2");
      return this.checkEnable("#toade", "#toade_date");
    };

    Main.prototype.checkEnable = function(elem, target) {
      return $(elem).change(function() {
        if ($(elem).prop('checked') === true) {
          return $(target).prop('disabled', false);
        } else {
          return $(target).prop('disabled', true);
        }
      });
    };

    return Main;

  })();

  App = (function() {
    function App(el) {
      this.el = el;
    }

    App.prototype.render = function() {
      var clock, i, len, main, main_clocks, sidebar;
      main = new Main("#main");
      sidebar = new Sidebar("#clocks-many");
      main_clocks = [new Clock("#clocks-main", 8, "Manila"), new Clock("#clocks-main", -5, "Eastern"), new Clock("#clocks-main", -6, "Central"), new Clock("#clocks-main", -7, "Mountain"), new Clock("#clocks-main", -8, "Pacific")];
      $(this.el).html(template.main());
      for (i = 0, len = main_clocks.length; i < len; i++) {
        clock = main_clocks[i];
        clock.render();
      }
      sidebar.render();
      return main.render();
    };

    return App;

  })();

  app = new App("#app");

  app.render();

}).call(this);
